(this["webpackJsonpkurrency-konverter"]=this["webpackJsonpkurrency-konverter"]||[]).push([[0],{85:function(e,t,c){},86:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(66),o=c.n(r),s=c(109),i=c(30),l=c(2),u=c(3),j=c(110),d=c(103),b=c(105),h=c(107),O=c(71),f=c(104),g=c(108),x=c(5),v=function(e,t,c){return 0===+t||t.startsWith("+")||t.startsWith("-")?t:c?"from"===e?"+".concat(t):"-".concat(t):"from"===e?"-".concat(t):"+".concat(t)},p=function(e,t){return t?"from"===e?"green.500":"red.500":"from"===e?"red.500":"green.500"},y=function(e){var t=e.type,c=e.value,n=e.isInvalid,a=e.isReversed,r=e.onChange;return Object(x.jsxs)(g.c,{"aria-label":t,value:v(t,c,a),precision:2,clampValueOnBlur:!1,variant:"flushed",size:"lg",focusBorderColor:"cyan.400",errorBorderColor:"red.500",isInvalid:n,onChange:r,children:[Object(x.jsx)(g.d,{color:p(t,a)}),Object(x.jsxs)(g.e,{children:[Object(x.jsx)(g.b,{border:"none"}),Object(x.jsx)(g.a,{border:"none"})]})]})},m=c(102),S=function(e){var t=e.type,c=e.value,n=e.currencies,a=e.onChange;return Object(x.jsx)(m.a,{name:"select-".concat(t),"aria-label":"select-".concat(t),value:c,onChange:a,width:"auto",variant:"flushed",size:"lg",focusBorderColor:"cyan.400",_hover:{cursor:"pointer"},children:n.map((function(e){return Object(x.jsx)("option",{value:e,children:e},e)}))})},C=function(e){var t=e.type,c=e.account,n=e.symbol,a=e.handleChange,r=e.handleSelect,o=e.isReversed,s=e.accountsKeys,i=e.currency,l=e.inputVal,u=e.exceeds;return Object(x.jsxs)(d.a,{children:["from"===t&&Object(x.jsxs)(d.a,{"data-testid":"account-".concat(t),color:u?"red.500":"gray.500",alignSelf:"center",children:["Balance: ",n,c]}),Object(x.jsxs)(f.a,{children:[Object(x.jsx)(S,{type:t,value:i,currencies:s,onChange:r(t)}),Object(x.jsx)(y,{type:t,value:l,isInvalid:u,isReversed:o,onChange:a(t)})]}),"to"===t&&Object(x.jsxs)(d.a,{"data-testid":"account-".concat(t),color:u?"red.500":"gray.500",alignSelf:"center",children:["Balance: ",n,c]})]})},B=c(101),F=function(e){return Object(x.jsx)(B.a,Object(i.a)(Object(i.a)({viewBox:"0 0 512 512"},e),{},{children:Object(x.jsx)("path",{d:"m365.291 168.033a295.963 295.963 0 0 0 -293.291 295.967 24 24 0 0 1 -48 0 343.66 343.66 0 0 1 341.376-343.968l31.958 23.968zm-14.891 91.167 128-96a24 24 0 0 0 0-38.4l-128-96a24 24 0 1 0 -28.8 38.4l102.4 76.8-102.4 76.8a24 24 0 1 0 28.8 38.4z",fill:"currentColor"})}))},R=c(106),U=function(){return Object(x.jsxs)(d.a,{align:"center",padding:8,"data-testid":"error-placeholder",children:[Object(x.jsx)(b.a,{as:"h1",size:"lg",marginBottom:1,color:"red.500",children:":("}),Object(x.jsx)(R.a,{children:"An error occured while loading currency rates."}),Object(x.jsx)(R.a,{children:"Trying one more time in several seconds..."})]})},k={USD:"$",EUR:"\u20ac",GBP:"\xa3"},w=function(){var e=Object(n.useState)({USD:1,EUR:0,GBP:0}),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({USD:"100",EUR:"200",GBP:"0"}),o=Object(u.a)(r,2),s=o[0],f=o[1],g=Object(n.useState)("USD"),v=Object(u.a)(g,2),p=v[0],y=v[1],m=Object(n.useState)("EUR"),S=Object(u.a)(m,2),B=S[0],R=S[1],w=Object(n.useState)("1"),E=Object(u.a)(w,2),z=E[0],D=E[1],I=Object(n.useState)("0"),P=Object(u.a)(I,2),W=P[0],G=P[1],_=Object(n.useState)(!1),N=Object(u.a)(_,2),V=N[0],K=N[1],L=Object(n.useState)(!1),T=Object(u.a)(L,2),J=T[0],A=T[1],M=(0,Object.keys)(s),$=!V&&+z>+s[p],q=V&&+W>+s[B],H=function(){fetch("https://openexchangerates.org/api/latest.json?app_id=".concat("df6831b373d143a6ba70c3b88c270bad","&base=").concat("USD".toLowerCase())).then((function(e){return e.json()})).then((function(e){var t,c=(t={},Object(l.a)(t,e.base,1),Object(l.a)(t,"EUR",e.rates.EUR),Object(l.a)(t,"GBP",e.rates.GBP),t);a(c)})).catch((function(){A(!0)}))};Object(n.useEffect)((function(){var e=setInterval(H,1e4);return H(),function(){return clearInterval(e)}}),[]),Object(n.useEffect)((function(){G(String((+z*(c[B]/c[p])).toFixed(2))),A(!1)}),[c]);var Q=function(e){return function(t){var n=t.target.value;"from"===e?(n===B&&R(p),y(n),G(String((+z*(c[B]/c[n])).toFixed(2)))):(n===p&&y(B),R(n),G(String((+z*(c[n]/c[p])).toFixed(2))))}},X=function(e){return function(t){var n=function(e){return e.replace(/^\x2D+/,"")}(t),a=n.split("."),r=Object(u.a)(a,3),o=r[1],s=r[2];o&&o.length>2||"string"===typeof s||n.startsWith(".")||n.startsWith("0")||n.endsWith("+")||n.endsWith("-")||("from"===e?(D(n),G(String((+n*(c[B]/c[p])).toFixed(2)))):(G(n),D(String((+n*(c[p]/c[B])).toFixed(2)))))}};return J?Object(x.jsx)(U,{}):Object(x.jsxs)(j.a,{align:"center",padding:8,spacing:6,children:[Object(x.jsxs)(d.a,{children:[Object(x.jsxs)(b.a,{as:"h1",size:"lg",marginBottom:1,children:["Sell ",p]}),Object(x.jsxs)(d.a,{"data-testid":"rate",color:"gray.500",children:[k[p],"1 = ",k[B],(c[B]/c[p]).toFixed(6)]})]}),Object(x.jsxs)(d.a,{position:"relative",children:[Object(x.jsx)(C,{type:"from",account:s[p],symbol:k[p],handleChange:X,handleSelect:Q,isReversed:V,accountsKeys:M,currency:p,inputVal:z,exceeds:$}),Object(x.jsx)(C,{type:"to",account:s[B],symbol:k[B],handleChange:X,handleSelect:Q,isReversed:V,accountsKeys:M,currency:B,inputVal:W,exceeds:q}),Object(x.jsx)(h.a,{icon:Object(x.jsx)(F,{color:"cyan.400"}),"aria-label":"reverse",onClick:function(){return K(!V)},variant:"ghost",size:"lg",transform:"rotate(".concat(V?-45:145,"deg)"),isRound:!0,_hover:{bg:"cyan.100"},_active:{bg:"cyan.100"},_focus:{bg:"cyan.100"},position:"absolute",top:"calc(50% - 24px)",right:"75px"})]}),Object(x.jsx)(O.a,{"aria-label":"buy/sell",onClick:function(){var e,t=V?Number(z):-Number(z),c=V?-Number(W):Number(W);f(Object(i.a)(Object(i.a)({},s),{},(e={},Object(l.a)(e,p,(+s[p]+t).toFixed(2)),Object(l.a)(e,B,(+s[B]+c).toFixed(2)),e)))},disabled:$||q,colorScheme:"cyan",color:"white",size:"lg",width:"200px",children:V?"Buy ".concat(p," with ").concat(B):"Sell ".concat(p," for ").concat(B)})]})},E=(c(85),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,111)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),r(e),o(e)}))});o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(s.a,{children:Object(x.jsx)(w,{})})}),document.getElementById("root")),E()}},[[86,1,2]]]);
//# sourceMappingURL=main.d28ae9d1.chunk.js.map